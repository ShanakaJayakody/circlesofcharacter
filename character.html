<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Character Framework - Circles Of Character</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Light gray background */
        }
        /* Style for active nav link */
        .nav-active {
            font-weight: 600;
            color: #166534; /* Dark Green */
        }
        header {
            position: sticky; top: 0; z-index: 50;
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        /* --- Character Interface Specific Styles --- */

        /* Initial View Container */
        #initial-view-container {
            display: grid;
            grid-template-columns: 1fr auto 1fr; /* Left col, SVG col, Right col */
            gap: 2rem; /* gap-8 */
            align-items: center;
            padding: 2rem 0; /* py-8 */
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
            max-width: 900px; /* Constrain width */
            margin: 0 auto; /* Center the initial view */
        }

        /* Styling for the SVG silhouette */
        .human-silhouette-container { display: flex; justify-content: center; align-items: center; }
        .human-silhouette-svg { width: 150px; height: auto; fill: #cbd5e1; /* slate-300 */ }

        /* Columns for category boxes */
        .category-box-column { display: grid; grid-template-columns: 1fr; gap: 1rem; }

        /* Styling for the pastel category boxes */
        .category-box {
            padding: 1rem 1.5rem; border-radius: 0.5rem; text-align: center;
            font-weight: 600; color: #334155; /* slate-700 */ cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); border: 1px solid rgba(0,0,0,0.05);
        }
        .category-box:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 6px 12px rgba(0,0,0,0.1); }

        /* Pastel Category Colors (Backgrounds for initial boxes) */
        .cat-bg-purposefulness { background-color: #fbcfe8; border-color: #f9a8d4; } /* Pink */
        .cat-bg-hope { background-color: #bfdbfe; border-color: #93c5fd; } /* Blue */
        .cat-bg-truthfulness { background-color: #a7f3d0; border-color: #6ee7b7; } /* Teal */
        .cat-bg-love { background-color: #fecaca; border-color: #fca5a5; } /* Red */
        .cat-bg-respect { background-color: #fed7aa; border-color: #fdba74; } /* Orange */
        .cat-bg-mindfulness { background-color: #fecaca; border-color: #fca5a5;} /* Red */
        .cat-bg-wisdom { background-color: #ddd6fe; border-color: #c4b5fd; } /* Violet */
        .cat-bg-trustworthiness { background-color: #bbf7d0; border-color: #86efac; } /* Green */
        .cat-bg-compassion { background-color: #a7f3d0; border-color: #6ee7b7;} /* Teal */
        .cat-bg-courage { background-color: #fef08a; border-color: #fde047; } /* Yellow */
        .cat-bg-tolerance { background-color: #fed7aa; border-color: #fdba74; } /* Orange */
        .cat-bg-self-discipline { background-color: #e2e8f0; border-color: #cbd5e1; } /* Slate */

        /* Sidebar */
        .sidebar {
            width: 250px; flex-shrink: 0;
            transition: opacity 0.5s ease-out 0.3s, transform 0.5s ease-out 0.3s;
            transform: translateX(-30px); opacity: 0;
            height: calc(100vh - 80px); overflow-y: auto; position: sticky; top: 80px;
            display: none; /* Hide until active */
        }
        .sidebar.active { transform: translateX(0); opacity: 1; display: block; }
        .sidebar ul li button {
            display: block; width: 100%; padding: 0.75rem 1.5rem; text-align: left;
            border-radius: 0.5rem; margin-bottom: 0.5rem; font-weight: 500;
            transition: background-color 0.2s ease, color 0.2s ease; color: #334155;
        }
        .sidebar ul li button.selected { font-weight: 600; color: white; }
        .sidebar ul li button:not(.selected):hover { background-color: #e2e8f0; }

        /* Sidebar selected item background color (using pastel vars) & text contrast */
        .sidebar ul li button.selected.cat-bg-purposefulness { background-color: #fbcfe8; color: #831843;}
        .sidebar ul li button.selected.cat-bg-hope { background-color: #bfdbfe; color: #1e3a8a;}
        .sidebar ul li button.selected.cat-bg-truthfulness { background-color: #a7f3d0; color: #047857;}
        .sidebar ul li button.selected.cat-bg-love { background-color: #fecaca; color: #991b1b;}
        .sidebar ul li button.selected.cat-bg-respect { background-color: #fed7aa; color: #9a3412;}
        .sidebar ul li button.selected.cat-bg-mindfulness { background-color: #fecaca; color: #991b1b;}
        .sidebar ul li button.selected.cat-bg-wisdom { background-color: #ddd6fe; color: #5b21b6;}
        .sidebar ul li button.selected.cat-bg-trustworthiness { background-color: #bbf7d0; color: #166534;}
        .sidebar ul li button.selected.cat-bg-compassion { background-color: #a7f3d0; color: #047857;}
        .sidebar ul li button.selected.cat-bg-courage { background-color: #fef08a; color: #854d0e;}
        .sidebar ul li button.selected.cat-bg-tolerance { background-color: #fed7aa; color: #9a3412;}
        .sidebar ul li button.selected.cat-bg-self-discipline { background-color: #e2e8f0; color: #1e293b;}

        /* Trait Cards Container */
        .trait-cards-container {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem; opacity: 0;
            transition: opacity 0.5s ease-out 0.3s;
        }
        .trait-cards-container.visible { opacity: 1; }

        /* Trait Card Base Style */
        .trait-card {
            background-color: white; padding: 1rem; border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            text-align: center; cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.3s ease;
            border-width: 2px; /* Make border visible */
            border-style: solid;
            border-color: #e5e7eb; /* Default border color */
        }
         .trait-card:hover { transform: scale(1.05); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }

        /* Trait Card Border Colors (Applied via JS by adding class to container) */
        /* Using slightly stronger/more saturated colors for borders */
        .border-cat-purposefulness .trait-card { border-color: #e879f9; } /* Fuchsia 400 */
        .border-cat-hope .trait-card { border-color: #60a5fa; } /* Blue 400 */
        .border-cat-truthfulness .trait-card { border-color: #2dd4bf; } /* Teal 400 */
        .border-cat-love .trait-card { border-color: #f87171; } /* Red 400 */
        .border-cat-respect .trait-card { border-color: #fb923c; } /* Orange 400 */
        .border-cat-mindfulness .trait-card { border-color: #f87171; } /* Red 400 */
        .border-cat-wisdom .trait-card { border-color: #a78bfa; } /* Violet 400 */
        .border-cat-trustworthiness .trait-card { border-color: #4ade80; } /* Green 400 */
        .border-cat-compassion .trait-card { border-color: #34d399; } /* Emerald 400 */
        .border-cat-courage .trait-card { border-color: #facc15; } /* Yellow 400 */
        .border-cat-tolerance .trait-card { border-color: #fbbf24; } /* Amber 400 */
        .border-cat-self-discipline .trait-card { border-color: #94a3b8; } /* Slate 400 */

        /* Modal Styles */
        .modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6); align-items: center; justify-content: center; }
        .modal.active { display: flex; }
        .modal-content { background-color: #fff; margin: auto; padding: 2rem; border-radius: 0.5rem; max-width: 500px; width: 90%; position: relative; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
        .modal-close { position: absolute; top: 1rem; right: 1rem; color: #aaa; font-size: 1.5rem; font-weight: bold; cursor: pointer; line-height: 1; }
        .modal-close:hover, .modal-close:focus { color: #333; }

    </style>
</head>
<body class="text-gray-800 antialiased">

    <header class="w-full">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold text-green-800 hover:text-green-700 transition duration-300">
                Circles Of Character
            </a>
            <ul class="hidden md:flex space-x-6 items-center">
                <li><a href="index.html" class="text-gray-600 hover:text-green-700 pb-1 transition duration-300 nav-link">Home</a></li>
                <li><a href="about.html" class="text-gray-600 hover:text-green-700 pb-1 transition duration-300 nav-link">About</a></li>
                <li><a href="character.html" class="text-gray-600 hover:text-green-700 pb-1 transition duration-300 nav-link nav-active">Character</a></li>
                <li><a href="enrol.html" class="text-gray-600 hover:text-green-700 pb-1 transition duration-300 nav-link">Enrol</a></li>
                <li><a href="support.html" class="text-gray-600 hover:text-green-700 pb-1 transition duration-300 nav-link">Support</a></li>
                <li><a href="enrol.html" class="bg-green-600 hover:bg-green-700 text-white font-semibold px-5 py-2 rounded-full transition duration-300 shadow-md hover:shadow-lg">Enrol Now</a></li>
            </ul>
            <button id="mobile-menu-button" class="md:hidden text-gray-700 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg">
             <ul class="flex flex-col items-center py-4 space-y-4">
                <li><a href="index.html" class="block text-gray-600 hover:text-green-700 nav-link-mobile">Home</a></li>
                <li><a href="about.html" class="block text-gray-600 hover:text-green-700 nav-link-mobile">About</a></li>
                <li><a href="character.html" class="block text-gray-600 hover:text-green-700 nav-link-mobile">Character</a></li>
                <li><a href="enrol.html" class="block text-gray-600 hover:text-green-700 nav-link-mobile">Enrol</a></li>
                <li><a href="support.html" class="block text-gray-600 hover:text-green-700 nav-link-mobile">Support</a></li>
                 <li><a href="enrol.html" class="bg-green-600 hover:bg-green-700 text-white font-semibold px-5 py-2 rounded-full transition duration-300 shadow-md hover:shadow-lg">Enrol Now</a></li>
            </ul>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <h1 class="text-3xl md:text-4xl font-bold text-green-800 mb-4 text-center">Explore Our Character Framework</h1>
        <p class="text-lg text-gray-700 mb-10 text-center max-w-3xl mx-auto">Discover the 12 core character categories and the specific qualities we nurture within each. Click on a category box below to explore its traits.</p>

        <div id="character-interface" class="flex flex-col md:flex-row gap-8">

            <div id="initial-view-container" class="w-full">
                <div class="category-box-column" id="left-category-column">
                    </div>
                <div class="human-silhouette-container">
                    <svg class="human-silhouette-svg" viewBox="0 0 100 200" xmlns="http://www.w3.org/2000/svg">
                        <path d="M50 10 C 40 10, 35 20, 35 30 C 35 45, 40 55, 50 55 C 60 55, 65 45, 65 30 C 65 20, 60 10, 50 10 Z M 50 60 C 30 60, 20 75, 20 100 L 20 170 C 20 190, 35 200, 50 200 C 65 200, 80 190, 80 170 L 80 100 C 80 75, 70 60, 50 60 Z"></path>
                    </svg>
                </div>
                 <div class="category-box-column" id="right-category-column">
                    </div>
            </div>

            <aside id="sidebar" class="sidebar bg-white p-4 rounded-lg shadow">
                 <h3 class="text-lg font-semibold mb-4 text-gray-700">Categories</h3>
                 <ul id="sidebar-category-list">
                     </ul>
            </aside>

            <section id="trait-display-area" class="flex-grow min-w-0" style="display: none;">
                 <h2 id="trait-area-title" class="text-2xl font-semibold text-gray-800 mb-6"></h2>
                 <div id="trait-cards-container" class="trait-cards-container">
                     </div>
            </section>

        </div>

    </main>

    <div id="trait-modal" class="modal">
        <div class="modal-content">
            <span id="modal-close-button" class="modal-close">&times;</span>
            <h3 id="modal-trait-name" class="text-2xl font-semibold mb-4 text-gray-800"></h3>
            <p id="modal-trait-description" class="text-gray-600"></p>
        </div>
    </div>

    <footer class="bg-green-900 text-green-100 py-8 px-6 mt-16">
        <div class="container mx-auto text-center">
            <nav class="mb-4">
                 <a href="index.html" class="px-3 hover:text-white">Home</a>|
                 <a href="about.html" class="px-3 hover:text-white">About</a>|
                 <a href="character.html" class="px-3 hover:text-white">Character</a>|
                 <a href="enrol.html" class="px-3 hover:text-white">Enrol</a>|
                 <a href="support.html" class="px-3 hover:text-white">Support</a>
            </nav>
            <p>&copy; <span id="current-year"></span> Circles Of Character. All Rights Reserved.</p>
            <p class="text-sm text-green-200 mt-2">Nurturing the future, one character circle at a time.</p>
        </div>
    </footer>

    <script>
        // --- Data: Character Categories and Traits ---
        const characterData = {
            // Left Side (Moral) - Added borderClass
            'Purposefulness': { side: 'left', bgClass: 'cat-bg-purposefulness', borderClass: 'border-cat-purposefulness', traits: ['Awe', 'Certitude', 'Clarity', 'Faith', 'Grace', 'Prayerfulness', 'Reverence', 'Wonder', 'Zeal'] },
            'Hope': { side: 'left', bgClass: 'cat-bg-hope', borderClass: 'border-cat-hope', traits: ['Encouragement', 'Idealism', 'Inspiration', 'Motivation', 'Optimism'] },
            'Truthfulness': { side: 'left', bgClass: 'cat-bg-truthfulness', borderClass: 'border-cat-truthfulness', traits: ['Fairness', 'Honesty', 'Honour', 'Integrity', 'Justice', 'Nobility', 'Righteousness', 'Sincerity'] },
            'Love': { side: 'left', bgClass: 'cat-bg-love', borderClass: 'border-cat-love', traits: ['Appreciation', 'Cheerfulness', 'Devotion', 'Enthusiasm', 'Gentleness', 'Gratitude', 'Joyfulness', 'Loyalty', 'Passion', 'Thankfulness'] },
            'Respect': { side: 'left', bgClass: 'cat-bg-respect', borderClass: 'border-cat-respect', traits: ['Consideration', 'Cooperation', 'Courtesy', 'Dignity', 'Empathy', 'Friendliness', 'Hospitality', 'Humanity', 'Humility', 'Modesty', 'Openness', 'Tact', 'Thoughtfulness', 'Understanding', 'Unity'] },
            'Mindfulness': { side: 'left', bgClass: 'cat-bg-mindfulness', borderClass: 'border-cat-mindfulness', traits: ['Beauty', 'Composure', 'Contentment', 'Peacefulness', 'Serenity', 'Simplicity'] },
            // Right Side (Performance) - Added borderClass
            'Wisdom': { side: 'right', bgClass: 'cat-bg-wisdom', borderClass: 'border-cat-wisdom', traits: ['Curiosity', 'Creativity', 'Discernment', 'Foresight', 'Humour', 'Initiative', 'Innovation', 'Leadership', 'Perceptiveness', 'Strategy', 'Vision'] },
            'Trustworthiness': { side: 'right', bgClass: 'cat-bg-trustworthiness', borderClass: 'border-cat-trustworthiness', traits: ['Accountability', 'Congruence', 'Discretion', 'Faithfulness', 'Fidelity', 'Reliability', 'Responsibility', 'Trust'] },
            'Compassion': { side: 'right', bgClass: 'cat-bg-compassion', borderClass: 'border-cat-compassion', traits: ['Caring', 'Charity', 'Generosity', 'Helpfulness', 'Kindness', 'Mercy', 'Service'] },
            'Courage': { side: 'right', bgClass: 'cat-bg-courage', borderClass: 'border-cat-courage', traits: ['Assertiveness', 'Bravery', 'Commitment', 'Confidence', 'Decisiveness', 'Determination', 'Endurance', 'Fortitude', 'Independence', 'Perseverance', 'Resilience', 'Steadfastness', 'Strength'] },
            'Tolerance': { side: 'right', bgClass: 'cat-bg-tolerance', borderClass: 'border-cat-tolerance', traits: ['Acceptance', 'Detachment', 'Flexibility', 'Forbearance', 'Forgiveness', 'Patience', 'Sacrifice'] },
            'Self-Discipline': { side: 'right', bgClass: 'cat-bg-self-discipline', borderClass: 'border-cat-self-discipline', traits: ['Cleanliness', 'Consistency', 'Diligence', 'Efficiency', 'Excellence', 'Moderation', 'Orderliness', 'Professionalism', 'Purity'] }
        };

        // --- DOM Elements ---
        const initialViewContainer = document.getElementById('initial-view-container');
        const leftCategoryColumn = document.getElementById('left-category-column');
        const rightCategoryColumn = document.getElementById('right-category-column');
        const sidebar = document.getElementById('sidebar');
        const sidebarCategoryList = document.getElementById('sidebar-category-list');
        const traitDisplayArea = document.getElementById('trait-display-area');
        const traitAreaTitle = document.getElementById('trait-area-title');
        const traitCardsContainer = document.getElementById('trait-cards-container');
        const traitModal = document.getElementById('trait-modal');
        const modalCloseButton = document.getElementById('modal-close-button');
        const modalTraitName = document.getElementById('modal-trait-name');
        const modalTraitDescription = document.getElementById('modal-trait-description');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        // --- Functions ---

        // Function to create a category box for the initial view
        function createCategoryBox(categoryName, data) {
            const box = document.createElement('div');
            // Use bgClass for background
            box.className = `category-box ${data.bgClass}`;
            box.textContent = categoryName;
            box.dataset.category = categoryName;
            box.addEventListener('click', () => handleCategorySelect(categoryName));
            return box;
        }

        // Function to create a sidebar list item
        function createSidebarItem(categoryName, data) {
            const li = document.createElement('li');
            const button = document.createElement('button');
            button.textContent = categoryName;
            button.dataset.category = categoryName;
            // Add bgClass for potential use in selection styling
            button.classList.add(data.bgClass);
            button.addEventListener('click', () => displayTraits(categoryName));
            li.appendChild(button);
            return li;
        }

        // Function to create a trait card
        function createTraitCard(traitName) {
            const card = document.createElement('div');
            card.className = 'trait-card'; // Base class, border color added via container
            card.textContent = traitName;
            card.dataset.trait = traitName;
            card.addEventListener('click', () => handleTraitSelect(traitName));
            return card;
        }

        // Function to display traits for a selected category
        function displayTraits(categoryName) {
            const data = characterData[categoryName];
            if (!data) return;

            traitAreaTitle.textContent = `Traits of ${categoryName}`;
            traitCardsContainer.innerHTML = '';
            traitCardsContainer.classList.remove('visible'); // Hide for fade-in

            // Remove any existing border classes from the container
            traitCardsContainer.className = 'trait-cards-container'; // Reset classes
            // Add the new border class to the container
            traitCardsContainer.classList.add(data.borderClass);

            data.traits.forEach(trait => {
                const card = createTraitCard(trait);
                traitCardsContainer.appendChild(card);
            });

            // Trigger fade-in effect
            requestAnimationFrame(() => {
                 requestAnimationFrame(() => {
                    traitCardsContainer.classList.add('visible');
                 });
            });

            updateSidebarSelection(categoryName);
        }

        // Function to update sidebar selection highlight
        function updateSidebarSelection(selectedCategoryName) {
             const sidebarButtons = sidebarCategoryList.querySelectorAll('button');
             sidebarButtons.forEach(button => {
                 const categoryName = button.dataset.category;
                 const data = characterData[categoryName];
                 // Remove generic selected styles first
                 button.classList.remove('selected', 'text-white');
                 // Remove specific background color class if previously added
                 button.classList.remove(data.bgClass); // Remove the bg class itself

                 if (button.dataset.category === selectedCategoryName) {
                     button.classList.add('selected');
                     // Add the specific bg class back to apply the correct selected style from CSS
                     button.classList.add(data.bgClass);
                 } else {
                      // Ensure non-selected buttons have default text color
                      button.classList.add('text-gray-700');
                 }
             });
        }


        // Function to handle the initial category selection
        function handleCategorySelect(categoryName) {
            // Hide initial view (with transition)
            initialViewContainer.style.opacity = '0';
            initialViewContainer.style.transform = 'scale(0.95)';
            setTimeout(() => {
                 initialViewContainer.style.display = 'none'; // Hide completely after transition
            }, 500); // Match transition duration

            // Show sidebar (triggers its own transition via CSS .active class)
            sidebar.classList.add('active');

            // Show trait display area (it will handle its own fade-in via JS)
            traitDisplayArea.style.display = 'block';

            // Display traits for the selected category
            displayTraits(categoryName);
        }

        // Function to handle trait card selection (open modal)
        function handleTraitSelect(traitName) {
            modalTraitName.textContent = traitName;
            modalTraitDescription.textContent = `A detailed description of the quality '${traitName}' will go here. It often involves aspects like... [Placeholder Content]`;
            traitModal.classList.add('active');
        }

        // Function to close the modal
        function closeModal() {
            traitModal.classList.remove('active');
        }

        // --- Initialization ---
        function initializeInterface() {
            // Ensure containers are empty before populating
            leftCategoryColumn.innerHTML = '';
            rightCategoryColumn.innerHTML = '';
            sidebarCategoryList.innerHTML = '';

            Object.keys(characterData).forEach(category => {
                const data = characterData[category];
                // Add to initial view columns
                const categoryBox = createCategoryBox(category, data);
                if (data.side === 'left') {
                    leftCategoryColumn.appendChild(categoryBox);
                } else {
                    rightCategoryColumn.appendChild(categoryBox);
                }
                // Add to sidebar list
                const sidebarItem = createSidebarItem(category, data);
                sidebarCategoryList.appendChild(sidebarItem);
            });
        }

        // --- Event Listeners ---
        modalCloseButton.addEventListener('click', closeModal);
        traitModal.addEventListener('click', (event) => {
            if (event.target === traitModal) { closeModal(); }
        });
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        document.getElementById('current-year').textContent = new Date().getFullYear();
        // Run initialization only after the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', initializeInterface);

    </script>

</body>
</html>
